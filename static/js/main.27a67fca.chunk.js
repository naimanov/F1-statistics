(this["webpackJsonpf1-statistics"]=this["webpackJsonpf1-statistics"]||[]).push([[0],{29:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(20),r=a.n(s),i=(a(29),a(3)),l=a(16),o=a.n(l),b=a(21),j=a(10),d="SET_DRIVERS_STANDING",u="SET_CONSTRUCTORS_STANDINGS",O="SET_RACES_SCHEDULE",h="SET_RACES_RESULT",x="SET_SINGLE_RACE_RESULT",m="SET_QUALIFYING",p="SWITCH_TABLE_TYPE",v="START_LOADING",f="END_LOADING",g="FETCH_ERROR",N=function(e,t){switch(t.type){case v:return Object(i.a)(Object(i.a)({},e),{},{is_loading:!0,is_error:!1});case f:return Object(i.a)(Object(i.a)({},e),{},{is_loading:!1});case g:return Object(i.a)(Object(i.a)({},e),{},{is_error:!0});case d:var a=t.payload.MRData.StandingsTable.StandingsLists[0].DriverStandings.map((function(e){var t=e.position,a=e.points,c=e.Driver,n=c.givenName,s=c.familyName;return{position:t,driverName:"".concat(n," ").concat(s),constructor:e.Constructors[0].name,points:a}}));return Object(i.a)(Object(i.a)({},e),{},{table_title:"Drivers standings",table_type:"drivers",table_headings:["Pos","Driver","Constructor","Points"],table_data:a});case u:var c=t.payload.MRData.StandingsTable.StandingsLists[0].ConstructorStandings.map((function(e){var t=e.position,a=e.points,c=e.Constructor;return{position:t,name:c.name,nationality:c.nationality,points:a}}));return Object(i.a)(Object(i.a)({},e),{},{table_title:"Constructors standings",table_type:"constructors",table_headings:["Pos","Constructor","Nationality","Points"],table_data:c});case O:var n=t.payload.MRData.RaceTable.Races.map((function(e){var t=e.round,a=e.raceName,c=e.date;return{round:t,raceName:a,circuitName:e.Circuit.circuitName,country:e.Circuit.Location.country,date:c}}));return Object(i.a)(Object(i.a)({},e),{},{table_title:"Schedule",table_type:"schedule",table_headings:["Round","Race","Circuit","Country","Date"],table_data:n});case h:var s=t.payload.MRData.RaceTable.Races.map((function(e){var t=e.round,a=e.raceName,c=e.Results[0].Driver,n=c.givenName,s=c.familyName;return{round:t,raceName:a,winner:"".concat(n," ").concat(s)}}));return Object(i.a)(Object(i.a)({},e),{},{table_title:"Races results",table_type:"racesList",table_headings:["Round","Race","Winner"," "],table_data:s});case x:var r=t.payload.MRData.RaceTable.Races[0].raceName,l=t.payload.MRData.RaceTable.Races[0].Results.map((function(e){var t,a,c=e.position,n=e.points,s=e.grid,r=e.laps,i=e.status,l=e.Driver,o=l.givenName,b=l.familyName;return{position:c,driver:"".concat(o," ").concat(b),constructor:e.Constructor.name,laps:r,grid:s,time:null!==(t=null===(a=e.Time)||void 0===a?void 0:a.time)&&void 0!==t?t:null,status:i,points:n}}));return Object(i.a)(Object(i.a)({},e),{},{table_title:r,table_type:"race",table_headings:["Pos","Driver","Constructor","Laps","Grid","Time","Status","Points"],table_data:l});case m:var o=t.payload.MRData.RaceTable.Races[0].raceName,b=t.payload.MRData.RaceTable.Races[0].QualifyingResults.map((function(e){var t,a,c,n=e.position,s=e.Driver,r=s.givenName,i=s.familyName;return{position:n,driver:"".concat(r," ").concat(i),constructor:e.Constructor.name,q1:null!==(t=e.Q1)&&void 0!==t?t:null,q2:null!==(a=e.Q2)&&void 0!==a?a:null,q3:null!==(c=e.Q3)&&void 0!==c?c:null}}));return Object(i.a)(Object(i.a)({},e),{},{table_title:o,table_type:"qualifying",table_headings:["Pos","Driver","Constructor","Q1","Q2","Q3"],table_data:b});case p:return Object(i.a)(Object(i.a)({},e),{},{table_type:t.payload});default:throw new Error('No Matching "'.concat(t.type,'" - action type'))}},_=a(1),y={table_title:"",table_type:"",table_headings:[],table_data:[],is_loading:!0,is_error:!1},S=n.a.createContext(),C=function(e){var t=e.children,a=Object(c.useReducer)(N,y),n=Object(j.a)(a,2),s=n[0],r=n[1],l=Object(c.useCallback)(function(){var e=Object(b.a)(o.a.mark((function e(t,a){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:v}),e.prev=1,e.next=4,fetch("".concat("https://ergast.com/api/f1","/").concat(t));case 4:return c=e.sent,e.next=7,c.json();case 7:(n=e.sent)&&r({type:a,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r({type:g});case 14:r({type:f});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),[]);return Object(_.jsx)(S.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{fetchStatisticsData:l,switchTableType:function(e){r({type:p,payload:e})}}),children:t})},R=n.a.createContext(),T=function(e){var t=e.children,a=Object(c.useState)(!1),n=Object(j.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(j.a)(i,2),o=l[0],b=l[1],d=Object(c.useState)("2021"),u=Object(j.a)(d,2),O=u[0],h=u[1];return Object(_.jsx)(R.Provider,{value:{isModalOpen:s,isMenuOpen:o,season:O,setIsModalOpen:r,setSeason:h,openModal:function(){r(!0),b(!1)},closeModal:function(){r(!1)},choiceSeason:function(e){h(e),r(!1)},toogleMenu:function(){b(!o)},closeMenu:function(){b(!1)}},children:t})},w=a(6),D=a(11),E=a.n(D);var M=function(e){var t=e.tableData,a=e.tableType,n=e.tableHeadings,s=Object(c.useState)(!1),r=Object(j.a)(s,2),i=r[0],l=r[1],o=Object(c.useRef)(null),b=Object(c.useRef)(null),d=function(){var e=o.current.getBoundingClientRect().width,t=b.current.getBoundingClientRect().width;l(e>t)};return Object(c.useEffect)((function(){return d(),window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}),[]),Object(_.jsxs)(_.Fragment,{children:[i&&Object(_.jsx)("p",{className:"scroll-message",children:"<Scroll to see more>"}),Object(_.jsx)("section",{className:"table-container",ref:b,children:Object(_.jsxs)("table",{className:"table",ref:o,children:[Object(_.jsx)("thead",{children:Object(_.jsx)("tr",{children:n.map((function(e){return Object(_.jsx)("th",{className:"table-headings",children:e},E()())}))})}),Object(_.jsx)("tbody",{children:t.map((function(e){return Object(_.jsxs)("tr",{children:[Object.keys(e).map((function(t){return Object(_.jsx)("td",{className:"table-cell",children:e[t]},E()())})),"racesList"===a?Object(_.jsx)("td",{children:Object(_.jsx)(w.b,{to:"/single-race/".concat(e.round),className:"btn-link",children:"See more"})},E()()):null]},E()())}))})]})})]})};var k=function(e){var t=e.switchTypes,a=Object(c.useContext)(S),n=a.switchTableType,s=a.table_type,r=Object(j.a)(t,2),i=r[0],l=r[1];return Object(_.jsxs)("div",{className:"btn-switch-container",children:[Object(_.jsx)("button",{className:"".concat(s===i?"btn btn-switch btn-switch-active":"btn btn-switch"),onClick:function(){return n(i)},children:i}),Object(_.jsx)("button",{className:"".concat(s===l?"btn btn-switch btn-switch-active":"btn btn-switch"),onClick:function(){return n(l)},children:l})]})};var L=function(){return Object(_.jsx)("div",{className:"message-container",children:Object(_.jsx)("p",{className:"message",children:"There was an error..."})})};var I=function(){return Object(_.jsx)("div",{className:"loading-container",children:Object(_.jsx)("div",{className:"loading"})})},q=function(){var e=Object(c.useContext)(R).season,t=Object(c.useContext)(S),a=t.fetchStatisticsData,n=t.table_title,s=t.table_type,r=t.table_headings,i=t.table_data,l=t.is_loading,o=t.is_error;return Object(c.useEffect)((function(){"constructors"===s&&e>=1958?a("".concat(e,"/constructorStandings.json"),u):a("".concat(e,"/driverStandings.json"),d)}),[s,e,a]),l?Object(_.jsx)(I,{}):o?Object(_.jsx)(L,{}):Object(_.jsx)("main",{children:Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsxs)("div",{className:"table-wrapper",children:[Object(_.jsxs)("div",{className:"table-header",children:[Object(_.jsx)("h1",{className:"table-title",children:n}),e>=1958?Object(_.jsx)(k,{switchTypes:["drivers","constructors"]}):null]}),Object(_.jsx)(M,{tableData:i,tableHeadings:r})]})})})},A=a(23);var P=function(){var e=Object(c.useContext)(R),t=e.openModal,a=e.season,n=e.toogleMenu,s=e.isMenuOpen,r=e.closeMenu;return Object(_.jsx)("header",{className:"header",children:Object(_.jsxs)("div",{className:"navbar-wrapper",children:[Object(_.jsx)("div",{children:Object(_.jsx)(w.b,{to:"/",className:"logo",children:"F1"})}),Object(_.jsx)("nav",{className:"".concat(s?"navbar navbar-open":"navbar"),children:Object(_.jsxs)("ul",{className:"navbar-menu",children:[Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/",className:"navbar-link",children:Object(_.jsx)("span",{onClick:r,children:"Standings"})})}),Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/schedule",className:"navbar-link",children:Object(_.jsx)("span",{onClick:r,children:"Schedule"})})}),Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/races",className:"navbar-link",children:Object(_.jsx)("span",{onClick:r,children:"Races"})})})]})}),Object(_.jsxs)("button",{className:"btn btn-season",onClick:t,children:["Season: ",a]}),Object(_.jsx)("button",{className:"".concat(s?"btn nav-toggle nav-toggle-open":"btn nav-toggle"),onClick:n,children:Object(_.jsx)(A.a,{})})]})})},H=[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],Q=a(24);var G=function(){var e=Object(c.useContext)(R),t=e.isModalOpen,a=e.closeModal,n=e.choiceSeason;return Object(_.jsxs)("section",{children:[Object(_.jsx)("div",{className:"".concat(t?"modal-overlay modal-overlay-open":"modal-overlay"),onClick:a}),Object(_.jsxs)("div",{className:"".concat(t?"modal modal-open":"modal"),children:[Object(_.jsxs)("div",{className:"modal-title ",children:[Object(_.jsx)("button",{className:"btn modal-close-btn",onClick:a,children:Object(_.jsx)(Q.a,{})}),Object(_.jsx)("h2",{children:"Seasons:"})]}),Object(_.jsx)("div",{children:Object(_.jsx)("ul",{className:"season-container",children:H.map((function(e){return Object(_.jsx)("li",{className:"year","data-season":e,onClick:function(e){return n(e.target.dataset.season)},children:e},E()())}))})})]})]})};var B=function(){var e=Object(c.useContext)(R).season,t=Object(c.useContext)(S),a=t.fetchStatisticsData,n=t.table_title,s=t.table_type,r=t.table_headings,i=t.table_data,l=t.is_loading,o=t.is_error;return Object(c.useEffect)((function(){a("".concat(e,".json"),O)}),[s,e,a]),l?Object(_.jsx)(I,{}):o?Object(_.jsx)(L,{}):Object(_.jsx)("main",{children:Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsxs)("div",{className:"table-wrapper",children:[Object(_.jsx)("div",{className:"table-header",children:Object(_.jsx)("h1",{className:"table-title",children:n})}),Object(_.jsx)(M,{tableData:i,tableHeadings:r})]})})})};var F=function(){return Object(_.jsxs)("div",{className:"message-container",children:[Object(_.jsx)("h1",{children:"404"}),Object(_.jsx)("p",{className:"message",children:"Sorry, the page you tried cannot be found"}),Object(_.jsx)(w.b,{to:"/",className:"btn-message",children:"Back home"})]})};var U=function(){var e=Object(c.useContext)(S),t=e.fetchStatisticsData,a=e.table_title,n=e.table_type,s=e.table_headings,r=e.table_data,i=e.is_loading,l=e.is_error,o=Object(c.useContext)(R).season;return Object(c.useEffect)((function(){t("".concat(o,"/results/1.json"),h)}),[n,o,t]),i?Object(_.jsx)(I,{}):l?Object(_.jsx)(L,{}):Object(_.jsx)("main",{children:Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsxs)("div",{className:"table-wrapper",children:[Object(_.jsx)("div",{className:"table-header",children:Object(_.jsx)("h1",{className:"table-title",children:a})}),Object(_.jsx)(M,{tableData:r,tableHeadings:s,tableType:n})]})})})};var z=function(){return Object(_.jsxs)("div",{className:"message-container",children:[Object(_.jsx)("p",{className:"message",children:"Sorry, but qualifying results are only fully supported from the 2003 season onwards."}),Object(_.jsx)(w.b,{to:"/races",className:"btn btn-message",children:"Back to races"})]})},J=a(4);var W=function(){var e=Object(J.f)().round,t=Object(c.useContext)(S),a=t.fetchStatisticsData,n=t.table_title,s=t.table_type,r=t.table_headings,i=t.table_data,l=t.is_loading,o=t.is_error,b=Object(c.useContext)(R).season;return Object(c.useEffect)((function(){if("qualifying"===s&&b>=2003)a("".concat(b,"/").concat(e,"/qualifying.json"),m);else{if("qualifying"===s&&b<2003)return;a("".concat(b,"/").concat(e,"/results.json"),x)}}),[s,b,e,a]),l?Object(_.jsx)(I,{}):o?Object(_.jsx)(L,{}):"qualifying"===s&&b<2003?Object(_.jsx)(z,{}):Object(_.jsx)("main",{children:Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsxs)("div",{className:"table-wrapper",children:[Object(_.jsxs)("section",{className:"table-header",children:[Object(_.jsx)("h1",{className:"table-title",children:n}),b>=2003?Object(_.jsx)(k,{switchTypes:["race","qualifying"]}):null]}),Object(_.jsx)(M,{tableData:i,tableHeadings:r,tableType:s})]})})})};var Y=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(T,{children:Object(_.jsxs)(w.a,{basename:"/f1-statistics",children:[Object(_.jsx)(G,{}),Object(_.jsx)(P,{}),Object(_.jsx)(C,{children:Object(_.jsxs)(J.c,{children:[Object(_.jsx)(J.a,{exact:!0,path:"/",children:Object(_.jsx)(q,{})}),Object(_.jsx)(J.a,{path:"/schedule",children:Object(_.jsx)(B,{})}),Object(_.jsx)(J.a,{path:"/races",children:Object(_.jsx)(U,{})}),Object(_.jsx)(J.a,{path:"/single-race/:round",children:Object(_.jsx)(W,{})}),Object(_.jsx)(J.a,{path:"*",children:Object(_.jsx)(F,{})})]})})]})})})};r.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(Y,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.27a67fca.chunk.js.map